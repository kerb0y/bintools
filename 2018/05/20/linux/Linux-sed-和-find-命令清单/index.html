<!DOCTYPE html>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

  <meta name="description" content="æœ¬åšå®¢ä½¿ç”¨ç”¨â€œä¿æŒç½²åâ€”éå•†ç”¨â€åˆ›æ„å…±äº«4.0è®¸å¯è¯ï¼Œè½¬è½½åªè¦ä¿æŒåŸä½œè€…ç½²åå’Œéå•†ç”¨ã€‚">


	<meta name="keywords" content="blog">

<link rel="alternate" href="/blog/atom.xml" title="Lishude&#39;s Web Note" type="application/atom+xml">
<meta name="theme-color" content="#5badf0">
<title>Linux sed å’Œ find å‘½ä»¤æ¸…å• - Lishude&#39;s Web Note</title>
<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<link rel="shortcut icon" href="/blog/favicon.png">
<link rel="stylesheet" href="/blog/css/style.css">
<nav class="main-nav">
	
	    <a href="/blog/">â† Home</a>
	
	
	    <a href="/blog/about/">About</a>
	
	    <a href="/blog/archives/">Archives</a>
	
	<a class="cta" href="/atom.xml" data-no-instant>Subscribe</a>
</nav>

<section id="wrapper">
    <article class="post">
    <header>
        
            <h1>Linux sed å’Œ find å‘½ä»¤æ¸…å•</h1>
        
        <h2 class="headline">May 20 2018
        
            
            <a href="/blog/categories/Linux/#Linux">Linux</a>
        
        </h2>
    </header>
</article>
<section id="post-body"><h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><p>ä¹‹å‰åœ¨ä½¿ç”¨ sed å°±åªåœ¨ ubuntu ä¸Šæ›¿æ¢ apt æºç”¨è¿‡ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i 's/us/cn/g' /etc/apt/sources.lit</span><br></pre></td></tr></table></figure>

<p>ä¸€ç›´è¿˜æ²¡è®°ä½ï¼Œå®¹æ˜“è¾“é”™ï¼Œç»“æœç»å¸¸å°±æŠŠ sources.list æ–‡ä»¶ç ´åæ‰äº† ğŸ˜“ã€‚</p>
<p>sed æ˜¯æµç¼–è¾‘å™¨ï¼Œè¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼ŒæŒ‰ç…§å‘½ä»¤æ¯æ¬¡åªå¤„ç†ä¸€è¡Œã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [options] &apos;command&apos; file(s)</span><br></pre></td></tr></table></figure>

<p>option å°±æ˜¯ä¸Šè¿°å‘½ä»¤çš„ -i éƒ¨åˆ†ï¼Œè¿™ä¸ªæ˜¯ä¿®æ”¹æºæ–‡ä»¶ã€‚å¤„ç†è¡Œä¸ºé»˜è®¤æ˜¯åªè¾“å‡ºåˆ°å±å¹•ï¼ŒåŠ  -i çš„å‚æ•°äº†ï¼Œè¿™ä¼šä¿®æ”¹æºæ–‡ä»¶çš„ã€‚æœ‰ä¸ªå®‰å…¨çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>-i.bak</code> çš„å½¢å¼å…ˆå¤‡ä»½ç„¶åå†ä¿®æ”¹ã€‚</p>
<p><strong>å…¶å®ƒçš„ option é€‰é¡¹</strong></p>
<ul>
<li>-e<script>æˆ–--expression=<script>ï¼šä»¥é€‰é¡¹ä¸­çš„æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ï¼›</li>
<li>-f<scriptæ–‡ä»¶>æˆ–--file=<scriptæ–‡ä»¶>ï¼šä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ï¼›</li>
<li>-næˆ–--quietæˆ–â€”â€”silentï¼šä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœï¼›</li>
<li>-Væˆ–--versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
</ul>
<p>command å‚æ•°åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¤„ç†ä½ç½®å’Œå¤„ç†æ–¹å¼ã€‚</p>
<p>sed è¯»å–ä¸€è¡Œå¤„ç†ä¸€è¡Œï¼Œé»˜è®¤æ˜¯æ¯è¡Œéƒ½å¤„ç†ï¼Œå¦å¤–æä¾›äº†å¤„ç†ä½ç½®ï¼ˆAddressï¼‰ï¼Œå¯ä»¥æ˜¯è¡Œå·ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™åªè¦åŒ¹é…æ‰å¤„ç†ï¼Œä¸åŒ¹é…å°±è·³è¿‡è¿›å…¥ä¸‹ä¸€è¡Œã€‚</p>
<p>é€‰å®šè¡Œçš„èŒƒå›´ä½¿ç”¨ <code>,ï¼ˆé€—å·ï¼‰</code>è¿›è¡Œã€‚</p>
<ul>
<li>æ‰€æœ‰åœ¨æ¨¡æ¿testå’Œcheckæ‰€ç¡®å®šçš„èŒƒå›´å†…çš„è¡Œéƒ½è¢«æ‰“å°ï¼š<code>sed -n &#39;/test/,/check/p&#39; file</code></li>
<li>æ‰“å°ä»ç¬¬5è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥testå¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œï¼š<code>sed -n &#39;5,/^test/p&#39; file</code></li>
<li>å¯¹äºæ¨¡æ¿testå’Œwestä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾ç”¨å­—ç¬¦ä¸²aaa bbbæ›¿æ¢ï¼š<code>sed &#39;/test/,/west/s/$/aaa bbb/&#39; file</code></li>
</ul>
<p>åœ¨å¤„ç†ä½ç½®ä¹‹åå†ä½¿ç”¨å¤„ç†æ–¹å¼ã€‚</p>
<p>å‡ ä¸ªå¸¸ç”¨çš„å¤„ç†æ–¹å¼æœ‰æ–°å¢ï¼ˆaï¼‰ï¼Œæ’å…¥ï¼ˆiï¼‰ï¼Œåˆ é™¤ï¼ˆdï¼‰ï¼Œæ‰“å°ï¼ˆpï¼‰ï¼Œæ›¿æ¢ï¼ˆsï¼‰ã€‚</p>
<p><strong>è¾“å‡ºæ‰“å°æ“ä½œï¼špå‘½ä»¤</strong></p>
<ul>
<li>æ‰“å°ç¬¬äºŒè¡Œï¼š<code>sed -n &#39;2p&#39; file</code></li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœä¸åŠ  -n çš„è¯ï¼Œä¼šæ‰“å°ä¸¤è¡Œã€‚</p>
<p><strong>åˆ é™¤æ“ä½œï¼šdå‘½ä»¤</strong></p>
<ul>
<li>åˆ é™¤ç©ºç™½è¡Œï¼š<code>sed &#39;/^$/d&#39; file</code></li>
<li>åˆ é™¤æ–‡ä»¶çš„ç¬¬2è¡Œï¼š<code>sed &#39;2d&#39; file</code></li>
<li>åˆ é™¤æ–‡ä»¶çš„ç¬¬2è¡Œåˆ°æœ«å°¾æ‰€æœ‰è¡Œï¼š<code>sed &#39;2,$d&#39; file</code></li>
</ul>
<p><strong>è¿½åŠ ï¼ˆè¡Œä¸‹ï¼‰ï¼ša\å‘½ä»¤</strong></p>
<ul>
<li>å°† this is a test line è¿½åŠ åˆ° ä»¥test å¼€å¤´çš„è¡Œåé¢ï¼š<code>sed &#39;/^test/a\this is a test line&#39; file</code></li>
<li>åœ¨ test.conf æ–‡ä»¶ç¬¬2è¡Œä¹‹åæ’å…¥ï¼š<code>sed -i &#39;2a\this is a test line&#39; test.conf</code></li>
<li>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨å‘½ä»¤<code>a</code>ååŠ ç©ºæ ¼çš„å½¢å¼ï¼š <code>sed -i &#39;2a insert new lint&#39;</code></li>
</ul>
<p><strong>æ’å…¥ï¼ˆè¡Œä¸Šï¼‰ï¼ši\å‘½ä»¤</strong></p>
<ul>
<li>å°† this is a test line è¿½åŠ åˆ°ä»¥testå¼€å¤´çš„è¡Œå‰é¢ï¼š<code>sed &#39;/^test/i\this is a test line&#39; file</code></li>
<li>åœ¨test.confæ–‡ä»¶ç¬¬5è¡Œä¹‹å‰æ’å…¥ï¼š<code>sed -i &#39;5i\this is a test line&#39; test.conf</code></li>
</ul>
<p>å½“ç„¶è¿˜æœ‰æœ€åˆè¯´çš„ s å‘½ä»¤æ˜¯æŒ‡æ›¿æ¢æ“ä½œï¼Œå¯ä»¥ç›´æ¥æ­é…æ­£è§„è¡¨ç¤ºæ³•ã€‚<code>sed -i &#39;s/us/cn/g&#39; /etc/apt/sources.lit</code> è¿™æ¡å‘½ä»¤å°±æ˜¯æŠŠ <code>/etc/apt/sources.list</code> æ–‡ä»¶ä¸­æ¯è¡Œçš„ us æ¢æˆ cnï¼Œè¿™ä¸ªå°±æ˜¯åˆå§‹åŒ– ubuntu server çš„æœ€å¸¸ç”¨çš„å‘½ä»¤äº†ã€‚</p>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>Linux findå‘½ä»¤ç”¨æ¥åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ã€‚</p>
<p>ä»»ä½•ä½äºå‚æ•°ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½å°†è¢«è§†ä¸ºæ¬²æŸ¥æ‰¾çš„ç›®å½•åã€‚å¦‚æœä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œä¸è®¾ç½®ä»»ä½•å‚æ•°ï¼Œåˆ™findå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¹¶ä¸”å°†æŸ¥æ‰¾åˆ°çš„å­ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨è¿›è¡Œæ˜¾ç¤ºã€‚</p>
<p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find   path   -option   [   -print ]   [ -exec   -ok   command ]   &#123;&#125; ;</span><br></pre></td></tr></table></figure>

<p>find æ ¹æ®ä¸‹åˆ—è§„åˆ™åˆ¤æ–­ path å’Œ expressionï¼Œåœ¨å‘½ä»¤åˆ—ä¸Šç¬¬ä¸€ä¸ª <code>- ( ) , !</code>ä¹‹å‰çš„éƒ¨ä»½ä¸º pathï¼Œä¹‹åçš„æ˜¯ expressionã€‚å¦‚æœ path æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ç›®å‰è·¯å¾„ï¼Œå¦‚æœ expression æ˜¯ç©ºå­—ä¸²åˆ™ä½¿ç”¨ -print ä¸ºé¢„è®¾ expressionã€‚</p>
<ul>
<li>-atime n : åœ¨è¿‡å» n å¤©è¿‡è¯»å–è¿‡çš„æ–‡ä»¶</li>
<li>-ctime n : åœ¨è¿‡å» n å¤©è¿‡ä¿®æ”¹è¿‡çš„æ–‡ä»¶</li>
<li>-empty : ç©ºçš„æ–‡ä»¶-gid n or -group name : gid æ˜¯ n æˆ–æ˜¯ group åç§°æ˜¯ name</li>
<li>-name name, -iname name : æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶ã€‚iname ä¼šå¿½ç•¥å¤§å°å†™</li>
<li>-size n : æ–‡ä»¶å¤§å° æ˜¯ n å•ä½ï¼Œb ä»£è¡¨ 512 ä½å…ƒç»„çš„åŒºå—ï¼Œc è¡¨ç¤ºå­—å…ƒæ•°ï¼Œk è¡¨ç¤º kilo bytesï¼Œw æ˜¯äºŒä¸ªä½å…ƒç»„ã€‚</li>
<li>-type c : æ–‡ä»¶ç±»å‹æ˜¯ c çš„æ–‡ä»¶ã€‚d: ç›®å½•ï¼›c: å­—å‹è£…ç½®æ–‡ä»¶ï¼›b: åŒºå—è£…ç½®æ–‡ä»¶ï¼›p: å…·åè´®åˆ—ï¼›f: ä¸€èˆ¬æ–‡ä»¶ï¼›l: ç¬¦å·è¿ç»“ï¼›s: socket</li>
<li>-pid n : process id æ˜¯ n çš„æ–‡ä»¶</li>
</ul>
<p>æ›´å¤šå¯å‚è€ƒï¼š<a href="https://blog.csdn.net/xktxoo/article/details/77823520">https://blog.csdn.net/xktxoo/article/details/77823520</a></p>
<h2 id="REF"><a href="#REF" class="headerlink" title="REF"></a>REF</h2><ul>
<li><a href="http://man.linuxde.net/sed">http://man.linuxde.net/sed</a></li>
<li><a href="http://www.runoob.com/linux/linux-comm-find.html">http://www.runoob.com/linux/linux-comm-find.html</a></li>
</ul>
</script></li></ul></section>
    
        
        <h2 class="footline">
            <a href="/blog/tags/sed/#sed">sed</a>
        </h2>
    

    <footer id="post-meta" class="clearfix">
        <a href="/blog/about/">
        <img class="avatar" src="/images/avatar.png">
        <div>
            <span class="dark">Lishude&#39;s Web Note</span>
            <span>Node.js/Blockchain/Go</span>
        </div>
        </a>
        <section id="sharing">
            <a title="Share to Twitter" class="twitter" href="https://twitter.com/intent/tweet?text=https://islishude.github.io/blog/2018/05/20/linux/Linux-sed-å’Œ-find-å‘½ä»¤æ¸…å•/ - Linux sed å’Œ find å‘½ä»¤æ¸…å• @"><span class="icon-twitter">tweet</span></a>
            <a title="Share to Facebook" class="facebook" href="#" onclick="
                window.open(
                  'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
                  'facebook-share-dialog',
                  'width=626,height=436');
                return false;"><span class="icon-facebook-sign">Share</span>
            </a>
        </section>
    </footer>


  <section id="comment">
    <button class="btn" id="loadcmts" onclick="cmts.load();">Load Comments</button>
    <div id="gitment"></div>
    <script src="/js/gitment.browser.js"></script>
    <link rel="stylesheet" href>
    <script>
      var cmts={
        load:function cmts(){
          var gitment = new Gitment({
          
            id: "Linux sed å’Œ find å‘½ä»¤æ¸…å•",
          
            owner: "",
            repo: "",
            oauth: {
              client_id: "",
              client_secret: "",
            },
          })
          gitment.render('gitment');
          var loadcmt = document.getElementById("loadcmts");
          var imyourfather = loadcmt.parentNode;
          imyourfather.removeChild(loadcmts)
        }
      }
    </script>
  </section>


    
        <ul id="post-list" class="archive readmore">
        <h3>Read more</h3>
        
            <li>
    <aside class="dates">Sep 04 2019</aside>
    <a href="/blog/2019/09/04/golang/Go-æ˜¾å¼å£°æ˜æŸä¸ªç±»å‹å®ç°äº†ä¸€ä¸ªæ¥å£/">Go: æ˜¾å¼å£°æ˜æŸä¸ªç±»å‹å®ç°äº†ä¸€ä¸ªæ¥å£</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 27 2019</aside>
    <a href="/blog/2019/08/27/åˆ†äº«ï¼šä½ å¯èƒ½ä¸çŸ¥é“çš„Go/">åˆ†äº«ï¼šä½ å¯èƒ½ä¸çŸ¥é“çš„Go</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 20 2019</aside>
    <a href="/blog/2019/08/20/tool/Win10-Chromeæ’­æ”¾è§†é¢‘éå¸¸å¡é¡¿ï¼Ÿ/">Win10 Chromeæ’­æ”¾è§†é¢‘éå¸¸å¡é¡¿ï¼Ÿ</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 20 2019</aside>
    <a href="/blog/2019/08/20/database/MySQL-upsertæ“ä½œ/">MySQL upsertæ“ä½œ</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 20 2019</aside>
    <a href="/blog/2019/08/20/linux/å¦‚æœä½ å¿˜äº†ä½ çš„äº‘æœåŠ¡å™¨ç™»å½•å¯†ç /">å¦‚æœä½ å¿˜äº†ä½ çš„äº‘æœåŠ¡å™¨ç™»å½•å¯†ç </a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 20 2019</aside>
    <a href="/blog/2019/08/20/golang/æœ€ç®€å•çš„æ–¹å¼ä½¿ç”¨æœ€æ–°å¼€å‘åˆ†æ”¯çš„Golangç¼–è¯‘å™¨/">æœ€ç®€å•çš„æ–¹å¼ä½¿ç”¨æœ€æ–°å¼€å‘åˆ†æ”¯çš„Golangç¼–è¯‘å™¨</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Aug 20 2019</aside>
    <a href="/blog/2019/08/20/golang/Go-ä½¿ç”¨-build-tag-æ¥è‡ªå®šä¹‰æ„å»ºé…ç½®/">Go: ä½¿ç”¨ build tag æ¥è‡ªå®šä¹‰æ„å»ºé…ç½®</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Jun 29 2019</aside>
    <a href="/blog/2019/06/29/python/Pythonæ¨¡å—å’ŒåŒ…ç®¡ç†/">Pythonæ¨¡å—å’ŒåŒ…ç®¡ç†</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Jun 29 2019</aside>
    <a href="/blog/2019/06/29/golang/å‡å°‘-Go-æ„å»ºæ–‡ä»¶å¤§å°çš„ç®€å•ç­–ç•¥/">å‡å°‘ Go æ„å»ºæ–‡ä»¶å¤§å°çš„ç®€å•ç­–ç•¥</a>
    <h2></h2>
</li>
        
            <li>
    <aside class="dates">Jun 29 2019</aside>
    <a href="/blog/2019/06/29/golang/Go-æ— æ–‡ä»¶å¼•å…¥é…ç½®åˆ°æ„å»ºç¨‹åº/">Go æ— æ–‡ä»¶å¼•å…¥é…ç½®åˆ°æ„å»ºç¨‹åº</a>
    <h2></h2>
</li>
        
        </ul>
    

	<footer id="footer">
	<div id="social">
		<p class="small">Â© Copyright 2020
			<a href="/blog/"> islishude </a>/
			<a href="https://hexo.io"> Hexo </a>/
			<a href="https://github.com/caisiduo/hexo-theme-lightime"> Lightime</a>
		</p>
	</div>
</footer>
</section>

	<script src="//cdnjs.loli.net/ajax/libs/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
	<script data-no-instant>
		
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-XXXXXXXX-Y', 'auto');
			ga('send', 'pageview');
  			InstantClick.on('change', function() {
  				ga('send', 'pageview', location.pathname + location.search);
			});
		
		InstantClick.init('mousedown');
	</script>



